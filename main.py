import streamlit as st
import math

st.set_page_config(page_title="10ì–µ ë…„ ë’¤ ìš°ì£¼ 3D ì‹œë®¬ë ˆì´ì…˜")
st.title("ğŸŒŒ 10ì–µ ë…„ ë’¤ ì€í•˜ì˜ 3ì°¨ì› ìœ„ì¹˜ ë³€í™” (í…ìŠ¤íŠ¸ ê¸°ë°˜)")

st.markdown("""
**í—ˆë¸”ì˜ ë²•ì¹™**ê³¼ ì´ˆê¸° 3ì°¨ì› ì¢Œí‘œë¥¼ ê¸°ë°˜ìœ¼ë¡œ,  
ìš°ì£¼ì˜ íŒ½ì°½ì— ë”°ë¼ ì€í•˜ë“¤ì˜ ìœ„ì¹˜ê°€ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ê³„ì‚°í•©ë‹ˆë‹¤.

> - ë‹¨ìœ„: Mpc (ë©”ê°€íŒŒì„¹)
> - í—ˆë¸” ìƒìˆ˜: 70 km/s/Mpc  
> - 3ì°¨ì› ê³µê°„: X, Y, Z ì¢Œí‘œ ì‚¬ìš©
""")

# ì‚¬ìš©ì ì…ë ¥
years = st.slider("ì‹œë®¬ë ˆì´ì…˜í•  ì‹œê°„ (ì–µ ë…„)", 1, 100, 10)
seconds = years * 1e8 * 3.154e7
H0 = 70  # km/s/Mpc
KM_PER_MPC = 3.086e19

# ì€í•˜ ì´ˆê¸° ìœ„ì¹˜ (ì´ë¦„, x, y, z in Mpc)
galaxies = [
    ("ì•ˆë“œë¡œë©”ë‹¤", 0.5, 0.3, 0.1),
    ("M81", 1.2, -0.5, 0.8),
    ("ì†Œìš©ëŒì´ ì€í•˜", -1.0, 1.5, -0.3),
    ("ì†œë¸Œë ˆë¡œ ì€í•˜", -2.0, -1.0, 1.0),
    ("ì¹´íŠ¸íœ  ì€í•˜", 1.5, 2.0, -1.2),
]

# ê²°ê³¼ í…Œì´ë¸” í—¤ë”
st.markdown("| ì€í•˜ | ì´ˆê¸° ê±°ë¦¬ (Mpc) | ë¯¸ë˜ ê±°ë¦¬ (Mpc) | Î”ê±°ë¦¬ (Mpc) |")
st.markdown("|------|------------------|------------------|------------------|")

for name, x, y, z in galaxies:
    r0 = math.sqrt(x**2 + y**2 + z**2)
    v_kms = H0 * r0 * 1000
    delta_km = v_kms * seconds
    delta_mpc = delta_km / KM_PER_MPC
    r1 = r0 + delta_mpc

    st.markdown(f"| {name} | {r0:.2f} | {r1:.2f} | {delta_mpc:.2f} |")

st.markdown("---")
st.info("ì´ ì‹œë®¬ë ˆì´ì…˜ì€ ê±°ë¦¬ë§Œ ë³€í•˜ê³ , ë°©í–¥(ë²¡í„°)ì€ ìœ ì§€ëœë‹¤ëŠ” ë‹¨ìˆœí™”ëœ ê°€ì •ì„ ë”°ë¦…ë‹ˆë‹¤.")

