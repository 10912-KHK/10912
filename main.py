import streamlit as st
import math

st.set_page_config(page_title="10ì–µ ë…„ ë’¤ ìš°ì£¼ ì‹œë®¬ë ˆì´ì…˜", layout="centered")

# íƒ€ì´í‹€
st.title("ğŸŒŒ 1ì–µ ë…„ ë’¤ ìš°ì£¼ì˜ ëª¨ìŠµ ì‹œë®¬ë ˆì´ì…˜")
st.caption("í—ˆë¸” íŒ½ì°½ ëª¨ë¸ ê¸°ë°˜ í…ìŠ¤íŠ¸ ì‹œë®¬ë ˆì´ì…˜ + ì´ë¯¸ì§€")

# ë°°ê²½ ì´ë¯¸ì§€
st.image(
    "https://upload.wikimedia.org/wikipedia/commons/0/0f/NASA-HubbleDeepField.800px.jpg",
    caption="í—ˆë¸” ë”¥ í•„ë“œ (NASA)",
    use_column_width=True
)

st.markdown("""
ìš°ì£¼ëŠ” ê³„ì† íŒ½ì°½í•˜ê³  ìˆìœ¼ë©°, ë©€ë¦¬ ìˆëŠ” ì€í•˜ì¼ìˆ˜ë¡ ë” ë¹ ë¥´ê²Œ ë©€ì–´ì§‘ë‹ˆë‹¤.  
ì´ ì‹œë®¬ë ˆì´ì…˜ì€ ì€í•˜ë“¤ì´ **10ì–µ ë…„ ë’¤ ì–´ë””ì¯¤ ìœ„ì¹˜í• ì§€** ì˜ˆì¸¡í•´ë´…ë‹ˆë‹¤.

**ê°€ì •**
- í—ˆë¸” ìƒìˆ˜ Hâ‚€ = 70 km/s/Mpc
- ë°©í–¥ì€ ìœ ì§€í•˜ê³  ê±°ë¦¬ë§Œ ë³€í™”
""")

# ì‚¬ìš©ì ì…ë ¥
years = st.slider("ë¯¸ë˜ ì‹œê°„ ì„¤ì • (ì–µ ë…„)", 1, 100, 10)
seconds = years * 1e8 * 3.154e7
H0 = 70  # í—ˆë¸” ìƒìˆ˜
KM_PER_MPC = 3.086e19

# ì€í•˜ ì¢Œí‘œ (3ì°¨ì›)
galaxies = [
    ("ì•ˆë“œë¡œë©”ë‹¤", 0.5, 0.3, 0.1),
    ("M81", 1.2, -0.5, 0.8),
    ("ì†Œìš©ëŒì´ ì€í•˜", -1.0, 1.5, -0.3),
    ("ì†œë¸Œë ˆë¡œ ì€í•˜", -2.0, -1.0, 1.0),
    ("ì¹´íŠ¸íœ  ì€í•˜", 1.5, 2.0, -1.2),
]

# í…Œì´ë¸” ì¶œë ¥
st.subheader(f"ğŸ“¡ {years}ì–µ ë…„ ë’¤ ì€í•˜ ê±°ë¦¬ ë³€í™”")
st.markdown("| ì€í•˜ | í˜„ì¬ ê±°ë¦¬ (Mpc) | ì˜ˆìƒ ê±°ë¦¬ (Mpc) | Î”ê±°ë¦¬ (Mpc) |")
st.markdown("|------|------------------|------------------|------------------|")

for name, x, y, z in galaxies:
    r0 = math.sqrt(x**2 + y**2 + z**2)
    v_kms = H0 * r0 * 1000
    delta_km = v_kms * seconds
    delta_mpc = delta_km / KM_PER_MPC
    r1 = r0 + delta_mpc

    st.markdown(f"| {name} | {r0:.2f} | {r1:.2f} | {delta_mpc:.2f} |")

st.markdown("---")
st.info("â€» ì‹¤ì œ ìš°ì£¼ëŠ” ì•”í‘ì—ë„ˆì§€, ì¤‘ë ¥, ë‹¤ì¤‘ êµ¬ì¡° ë“± ë‹¤ì–‘í•œ ìš”ì¸ìœ¼ë¡œ ë” ë³µì¡í•©ë‹ˆë‹¤.")
